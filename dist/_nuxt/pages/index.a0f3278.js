(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1128:function(e,r,t){var content=t(1138);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(123).default)("1b7833da",content,!0,{sourceMap:!1})},1137:function(e,r,t){"use strict";var o=t(1128);t.n(o).a},1138:function(e,r,t){(r=t(122)(!1)).push([e.i,".login_div{position:absolute;top:50%;left:50%;margin-top:-150px;margin-left:-150px}.login_div,.login_form2{width:400px;height:400px}.login_form2{background:grey;border-radius:10px;margin:0;padding:0}",""]),e.exports=r},1143:function(e,r,t){"use strict";t.r(r);var o=t(124),n=(t(92),t(21)),l=t(70),c=(t(582),{data:function(){return{error:"",errors:[],visible:!1,logged:null,form:{email:"",password:""}}},methods:{login:function(){this.$router.push("/dashboard")},register:function(){this.$router.push("/register")},handleSubmit:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,c,m,d,f,v,y,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r.form),""!==r.form.email){t.next=5;break}return r.visible=!0,r.error="Email cannot be empty",t.abrupt("return");case 5:if(""!==r.form.password){t.next=9;break}return r.visible=!0,r.error="Password cannot be empty",t.abrupt("return");case 9:return r.error="",r.visible=!1,n=r.form.email,c=r.form.password,m=l.firestore(),d=m.collection("users"),t.next=17,d.where("email","==",n).get();case 17:if(!(f=t.sent).empty){t.next=22;break}return r.error="Sorry you cant login with "+n+" !",r.visible=!0,t.abrupt("return");case 22:if(r.error="",r.visible=!1,v=[],f.forEach((function(e){var r;v.push((r={id:e.id,email:e.data().email,password:e.data().password,type:e.data().type},Object(o.a)(r,"email",e.data().email),Object(o.a)(r,"dob",e.data().dob),Object(o.a)(r,"gender",e.data().gender),Object(o.a)(r,"meta",e.data().meta),r))})),!(y=v.filter((function(dt){if(dt.email===n&&dt.password===c)return dt}))).empty){t.next=33;break}return r.error="Sorry we cant logg you in!",r.visible=!0,t.abrupt("return");case 33:t.t0=y[0].type,t.next="ADMIN"===t.t0?36:"STUDENT"===t.t0?41:45;break;case 36:return h={id:y[0].id,type:"ADMIN",email:y[0].email},console.log(h),localStorage.setItem("user",JSON.stringify(h)),r.$router.push("/dashboard"),t.abrupt("break",45);case 41:return h={id:y[0].id,type:"STUDENT",email:y[0].email,gender:y[0].gender,dob:y[0].dob,meta:y[0].meta},localStorage.setItem("user",JSON.stringify(h)),r.$router.push("/student"),t.abrupt("break",45);case 45:e.preventDefault();case 46:case"end":return t.stop()}}),t)})))()}},created:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),m=(t(1137),t(69)),component=Object(m.a)(c,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login_div"},[t("a-form",{staticClass:"login-form2",attrs:{id:"login",model:e.form},on:{submit:e.handleSubmit},nativeOn:{submit:function(e){e.preventDefault()}}},[t("a-divider",[e._v("Account Login")]),e._v(" "),t("a-form-item",[t("a-input",{attrs:{placeholder:"Email"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),e._v(" "),t("a-form-item",[t("a-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),e._v(" "),t("a-form-item",[t("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v("Log in")]),e._v(" "),t("br"),e._v(" "),t("a",{on:{click:function(r){return e.register()}}},[e._v("Register now!")]),e._v(" only "),t("B",[e._v("STUDENTS ")]),e._v(" you dont have account.\n\n      "),e.visible?t("a-alert",{attrs:{message:"",closable:"",type:"error"}},[t("p",{attrs:{slot:"description"},slot:"description"},[t("span",{staticStyle:{color:"red"}},[e._v(e._s(e.error))])])]):e._e()],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports}}]);